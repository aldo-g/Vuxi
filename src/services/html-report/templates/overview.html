{% extends "base.html" %}

{% block content %}
<h1>Website Analysis Overview</h1>

<div class="info-grid">
    <div class="info-card">
        <div class="info-label">Organization</div>
        <div class="info-value">{{ organization }}</div>
    </div>
    <div class="info-card">
        <div class="info-label">Analysis Date</div>
        <div class="info-value">{{ analysis_date }}</div>
    </div>
    <div class="info-card">
        <div class="info-label">Pages Analyzed</div>
        <div class="info-value">{{ screenshots_analyzed }}</div>
    </div>
</div>

<!-- Performance Scores -->
<div class="section">
    <h2>Performance Scores</h2>
    {% if scores and scores.length > 0 %}
        {% for score in scores %}
        <div class="score-item">
            <div class="score-label">{{ score.category }}</div>
            <div class="score-bar">
                <div class="score-fill {% if score.score >= 8 %}good{% elif score.score >= 6 %}average{% else %}poor{% endif %}" 
                     style="width: {{ score.score * 10 }}%"></div>
            </div>
            <div class="score-value {% if score.score >= 8 %}good{% elif score.score >= 6 %}average{% else %}poor{% endif %}">
                {{ score.score }}/10
            </div>
        </div>
        {% endfor %}
    {% else %}
        <p>No scores available</p>
    {% endif %}
</div>

<!-- Executive Summary -->
<div class="section">
    <h2>Executive Summary</h2>
    <div class="analysis-result">
        <p>{{ overview_content.executive_summary }}</p>
    </div>
</div>

<!-- Key Findings -->
<div class="section">
    <h2>Key Findings</h2>
    {% if overview_content.key_findings and overview_content.key_findings.length > 0 %}
        {% for finding in overview_content.key_findings %}
        <div class="list-item">{{ finding }}</div>
        {% endfor %}
    {% else %}
        <p>No key findings available</p>
    {% endif %}
</div>

<!-- Strategic Recommendations -->
<div class="section">
    <h2>Strategic Recommendations</h2>
    {% if overview_content.strategic_recommendations and overview_content.strategic_recommendations.length > 0 %}
        {% for recommendation in overview_content.strategic_recommendations %}
        <div class="recommendation">{{ recommendation }}</div>
        {% endfor %}
    {% else %}
        <p>No recommendations available</p>
    {% endif %}
</div>

<div class="navigation">
    <a href="pages/index.html">View Individual Pages →</a>
    <a href="technical-summary.html">Technical Summary →</a>
    <a href="executive-summary.html">Executive Summary →</a>
</div>
{% endblock %}